---
title: "20190331"
date: 2019-03-31T00:09:15+09:00
showDate: true
draft: true
tags: ["Vue", "Vuex", "入門"]
---

## 前回の続編

テキストエリアを作成する。ここは、大きく変更はなくお手本の通りに進める。
どうやらエラー文言を出力するように記述するみたですね。

さっさ先に進めます。
次は、`StringComp.vue`の作成

`src/components/modules/`以下に作成したら、`Form.vue`で import, components, template に追加を行う。

今回は、`src/components/modules/`以下に作成したものは、`Form.vue`で使うので忘れずに追記ですな。

## イベント

ボタンの作成、イベントを発火させるために`v-on`ディレクティブを使う。

そのまま写経するのは、簡単だがちゃんと理解は必要だね。

vue のメソッドを使用するみたですね。なぜ使うの、何が実現できるかくらいは把握すべきなのでちょっと調べます。

調べているうちに`mapAction`と`mapGetters`は、Vuex の学習でかなーーーり重要とわかる。

#### コンポーネント内のアクションのディスパッチ

正攻法のやりかた`this.$store.dispatch('xxx')`で可能だがちゃーーーんと便利なヘルパーを用意してくれているのが Vuex のようですな。それが今回学ぶものの一つ`mapActions`である。([公式サイト](https://vuex.vuejs.org/ja/guide/actions.html#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%86%85%E3%81%A7%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%83%87%E3%82%A3%E3%82%B9%E3%83%91%E3%83%83%E3%83%81))

よは、簡単にコンポーネント内のアクションを使おうぜ！と今は、把握しておく。
これを利用する際、必ず Vue インスタンスに`store`を追加しないといけない

#### mapGetters も同様

この編集では、mapGetters が使われていないように見えるがこのあとちゃんと使用している。
`this.$store.getters['SOME']`

### store の作成

mapActions を使用するので store を追加する必要がある。先に`main.js`の修正を行うようだ。

この時点は、`store`フォルダすら存在していないため保存したらエラーが発生する。フォルダと index.js を作成した段階でエラーが消える。

作成の順番が本当に正しいのか不明だけどここでふと思ったのは、mapActions の第一引数は、namespaced になっている。store の index.js で作成している const 名であるわけで、最初に store を作成すべきでは・・・？と思ったが結果動くなら順番なんて関係ないけどもふと気になった。

すべての実装を行い終わったら画面の`確認`ボタンを押下すると console に`buttonAction`が出力される。なんと！！！！

実装してて、公式の解説を読んだりしてたけどもなるほどねー感覚的には理解しているがあくまで感覚なのでさらに深めたいですね。何個も作成して

## Vuex

今回の大本命。ここまでの Vuex 自体は、出てはきているがなぜ必要なのか、何をするものなのかって言うのがここで解説をしてくださっている。

若干疑問なのは、HeadComp の title を computed で mapGetters？別にキャッシュする必要なくない？って思って公式見たらどうやらお作法っぽい
